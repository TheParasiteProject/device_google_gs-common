on init
    # Create the directory for the trace instance during early init
    mkdir /sys/kernel/tracing/instances/irq_gia_google 0755 root root
    chown system system /sys/kernel/tracing/instances/irq_gia_google
    chown system system /sys/kernel/tracing/instances/irq_gia_google/trace

    # Enable gia events
    write /sys/kernel/tracing/instances/irq_gia_google/events/irq_gia/enable 1

    # There are some very high frequency IRQ events happening all the time. Tracing
    # them is not absolute necessity, but a flood of them is noise for more interesting
    # events that we want to capture. All these high frequency IRQs have virq < 11.
    write /sys/kernel/tracing/instances/irq_gia_google/events/irq/filter "irq > 11"
    write /sys/kernel/tracing/instances/irq_gia_google/events/irq/irq_handler_entry/enable 1
    write /sys/kernel/tracing/instances/irq_gia_google/events/irq/irq_handler_exit/enable 1

    # Keep the buffer size small. This size is practically enough for debug purpose.
    # Having low size helps because this entire buffer gets dumped in bugreport.
    # Having a large size can impact bugreport size and time it takes to pack/unpack.
    write /sys/kernel/tracing/instances/irq_gia_google/buffer_size_kb 512

    # Go!
    write /sys/kernel/tracing/instances/irq_gia_google/tracing_on 1
