package {
    default_applicable_licenses: ["Android-Apache-2.0"],
}

cc_binary {
    name: "dump_camera",
    srcs: ["dump_camera.cpp"],
    cflags: [
        "-Wall",
        "-Wextra",
        "-Werror",
    ],
    shared_libs: [
        "libbase",
        "libdump",
        "liblog",
    ],
    vendor: true,
    relative_install_path: "dump",
}

prebuilt_etc {
    name: "lyric_preview_dis_xml",
    vendor: true,
    filename: "vendor.android.hardware.camera.preview-dis.xml",
    src: "vendor.android.hardware.camera.preview-dis.xml",
    sub_dir: "permissions",
}

prebuilt_etc {
    name: "concurrent_foldable_dual_front_xml",
    vendor: true,
    filename: "com.google.pixel.camera.concurrent_foldable_dual_front.xml",
    src: "com.google.pixel.camera.concurrent_foldable_dual_front.xml",
    sub_dir: "permissions",
}

prebuilt_etc {
    name: "libg3a_standalone_gabc_rc",
    vendor: true,
    proprietary: true,
    init_rc: ["libg3a_gabc.rc"],
    src: "libg3a_gabc.rc",
}

prebuilt_etc {
    name: "libg3a_standalone_gaf_rc",
    vendor: true,
    proprietary: true,
    init_rc: ["libg3a_gaf.rc"],
    src: "libg3a_gaf.rc",
}

prebuilt_etc {
    name: "libg3a_standalone_ghawb_rc",
    vendor: true,
    proprietary: true,
    init_rc: ["libg3a_ghawb.rc"],
    src: "libg3a_ghawb.rc",
}

prebuilt_etc {
    name: "vendor-apex-allowlist-lyric.xml",
    src: "vendor-apex-allowlist-lyric.xml",
    vendor: true,
    sub_dir: "sysconfig",
    filename_from_src: true,
}
